# About TRIST

TRIST is a Proof Of Concept (PoC) Cyber Physcial System (CPS) testbed to evaluate the usefulness of containerised environments for CPS simulation.

Currently, TRIST enables the development of virtual, instantly deployable Cyber Physical Systems (CPS) which can be used to develop and test datasets.

TRIST is funded by [UWEcyber](http://www.cems.uwe.ac.uk/~pa-legg/uwecyber/) (thanks [UWE](https://www.uwe.ac.uk/)!)

# Technologies and features

TRIST is an open-source CPS Threat Research and Intelligence Sharing Testbed (TRIST).
TRIST aims to make CPS simulation and dataset development easy by providing the following features:

- CPS development and deployment
- CPS dataset development and testing

TRIST is deployed in [Docker](https://www.docker.com/) to offer the containerised environment.

TRIST is part inspired by [MiniCPS](https://minicps.readthedocs.io/), a CPS simulation tool built on top of [Mininet](http://mininet.org/). However, TRIST takes this one step further by implementing any CPS into portable and instantly deployable Docker containers. This means no installation, configuration, or setup is requried.

# Getting Started

TRIST is a Work In Progress (WIP) and so some functionality and features will be incomplete or buggy.

Currently, there are two PoC simulations available to use. Each one is seperated on each branch in the repo:

- [main](https://github.com/RedClouud/ICS-test-bed-PoC) - the main branch contains the simulation running normally
- [DoS_Emulation](https://github.com/RedClouud/ICS-test-bed-PoC/tree/DoS_Emulation) - the DoS_Emulation branch contains an emulated DoS attack on PLC1 to mimic what DoS attack might look like on the system

## How to run (normal)

Let's start with the main branch. This will run the testbed during normal operations.

1. Select the branch that you would like to use: provides chosen feature (normal behavior is in the main branch)

   ```bash
   $ git checkout main
   ```

2. Execute reset.sh: prepares environment

   This will clear any previous state if you ran this simulation in the past. (It is also handy if you are meeting errors!)

   ```bash
   $ ./reset.sh
   ```

   _Note that you may need make `reset.sh` executable before being able to execute it._
   
   If so, make `reset.sh` executable by running the following command:

   ```bash
   $ chmod +x reset.sh
   ```

3. Execute the docker-compose file: creates containers and begins simulation and data collection

   ```bash
   $ cd TRIST
   $ docker-compose up -d
   ```

After a few moments, you should have six containers running:

- plc[1 - 3]-1: PLCs to control physical processes
- t[1 | 3]01-1: water tanks to simulate physical processes
- data-collector-1: data collector to collect logs into `datasets`

![Docker Desktop displaying all six running containers](assets/docker.png)

_Docker Desktop displaying all six running containers_

You can stop the simulation using `$ docker-compose down`

## How to run (DoS Emulation)

To emulate a Denial of Service (DoS) attack on the testbed, follow the same steps in the `How to run (normal)` section but instead checkout to the `DoS_Emulation` branch during step one, like so:

```bash
$ git checkout DoS_Emulation
```

This will this produce a dataset which will represent a DoS attack on the system. You can also view the affects of the DoS attack via the Docker Desktop by using the "Resource usage" extention.

![Viewing the memory usage of the testbed using the "Resource usage" extention in Docker Desktop.](assets/docker-resource-usage.png)

_Viewing the memory usage of the testbed using the "Resource usage" extention in Docker Desktop._

## Dataset

When the simulation is started, TRIST automatically begins to collect data generated by each component. Data is recorded in CSV format allowing for a range of applications for the data from visualtion to machine learning. 

### Access Dataset

To access the generated datasets, navigate to `datasets`. For each started simulation session, a `.csv` file will be created using the following format: `YYYY-MM-DDThh:mm:ss_cs1.csv`.

_Note that if you have not yet started a simulation, this directory will not yet exist._

![Example dataset](assets/dataset-example.png)

_Example dataset_

# Contact

If you have any enquiries, such as problems or suggestions, then email us at contact dot q65xp at slmail dot me
